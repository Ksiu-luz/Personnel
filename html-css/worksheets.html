<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Анкеты</title>
    <link rel="stylesheet" href="styles/worksheets.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <button id="menu" class="logo-btn"></button>
        <nav id="sideMenu" class="side-menu">
            <ul>
                <li class="btt">
                    <button id="menuClose" class="logo-btn-cl"></button>
                </li>
                <li class="lk">
                    <a href="lk.html">
                        <img src="images/home.svg" alt="home"><span>личный кабинет</span>
                    </a>
                </li>
                <li class="wsh">
                    <a href="#">
                        <img src="images/анкеты.svg" alt="worksheet"><span>анкеты</span>
                    </a>
                </li>
            </ul>
            <ul>
                <li class="sett">
                    <a href="#">
                        <img src="images/настройки.svg" alt="settings"><span>настройки</span>
                    </a>
                </li>
                <li class="ex">
                    <a href="#">
                        <img src="images/выход.svg" alt="exit"><span>выход</span>
                    </a>
                </li>
            </ul>
        </nav>
    </header>
    <script>
        document.getElementById('menu').addEventListener('click', function () {
            document.getElementById('sideMenu').classList.toggle('open');
        });
        document.getElementById('menuClose').addEventListener('click', function () {
            document.getElementById('sideMenu').classList.toggle('open');
        });

        // это для мобилок 
        document.addEventListener('DOMContentLoaded', function () {
            var sideMenu = document.getElementById('sideMenu');
            var startX, endX;

            document.addEventListener('touchstart', function (e) {
                startX = e.touches[0].clientX;
            });

            document.addEventListener('touchend', function (e) {
                endX = e.changedTouches[0].clientX;
                handleSwipe();
            });

            function handleSwipe() {
                if (endX - startX > 50) { // Если свайп вправо
                    sideMenu.classList.add('open');
                } else if (startX - endX > 50) { // Если свайп влево
                    sideMenu.classList.remove('open');
                }
            }
        });
    </script>
    <main>
        <div class="wolf-qoute">
            <img src="КАДРЫ ЛЯЛЯЛЯ.png" alt="что-то умное">
        </div>

        <article class="search">
            <div class="custom-select">
                <div class="selected-categories" id="selectedCategories">
                    <input type="text" class="search-input">
                </div>
                <div class="options-container" id="optionsContainer">
                    <div class="option" data-value="category1">CSS</div>
                    <div class="option" data-value="category2">HTML</div>
                    <div class="option" data-value="category3">TypeScript</div>
                    <div class="option" data-value="category4">TypeScript</div>
                    <div class="option" data-value="category5">TypeScript</div>
                    <div class="option" data-value="category6">TypeScript</div>
                </div>
                <button class="search-button"></button>
            </div>
            <select class="select-status">
                <option class="d" value="1">Ищет команду</option>
                <option value="2">Не ищет команду</option>
                <option value="3">Состоит в команде</option>
            </select>
        </article>


        <script>

            document.addEventListener('DOMContentLoaded', function () {
                // Получаем элементы
                const customSelect = document.querySelector('.custom-select');
                const selectStatus = document.querySelector('.select-status');

                // Функция для обновления высоты selectStatus
                function updateSelectHeight() {
                    // Получаем высоту customSelect
                    const customSelectHeight = customSelect.offsetHeight;
                    // Устанавливаем высоту selectStatus равной высоте customSelect
                    selectStatus.style.height = customSelectHeight + 'px';
                }

                // Вызываем функцию для первоначального установления высоты
                updateSelectHeight();

                // Добавляем обработчик события для изменения размера окна
                window.addEventListener('resize', updateSelectHeight);
            });

            document.addEventListener('DOMContentLoaded', function () {
                document.querySelector('.selected-categories .search-input').focus();
            });

            document.querySelector('.custom-select').addEventListener('click', function (event) {
                // Проверяем, что клик был не по .selected-categories и не по .search-button
                if (!event.target.closest('.selected-categories') && !event.target.closest('.search-button')) {
                    const optionsContainer = document.querySelector('.options-container');
                    // Переключаем видимость .options-container
                    if (optionsContainer.style.display === 'none') {
                        optionsContainer.style.display = 'block';
                    } else {
                        optionsContainer.style.display = 'none';
                    }
                }
            });

            document.getElementById('selectedCategories').addEventListener('click', function () {
                document.getElementById('optionsContainer').style.display = 'block';
            });

            document.getElementById('optionsContainer').addEventListener('click', function (event) {
                if (event.target.classList.contains('option')) {
                    const selectedCategories = document.getElementById('selectedCategories');
                    const option = event.target;
                    const categoryDiv = document.createElement('div');
                    categoryDiv.classList.add('category');
                    categoryDiv.textContent = option.textContent;
                    categoryDiv.addEventListener('click', function () {
                        this.remove();
                        option.style.display = 'block'; // Показываем опцию в списке опций
                    });
                    selectedCategories.appendChild(categoryDiv);
                    option.style.display = 'none'; // Скрываем выбранную опцию в списке опций
                }
            });

            // Скрываем список опций при клике вне его
            window.addEventListener('click', function (event) {
                if (!event.target.closest('.custom-select')) {
                    document.getElementById('optionsContainer').style.display = 'none';
                }
            });
        </script>

        <article class="results">
            <section class="worksheet">
                <section class="profile-info">
                    <article class="user">
                        <img src="images/avatar.jpg" alt="Фото" class="profile-img">
                        <div class="user-info">
                            <h1>Ингиборга Дапкунайте</h1>
                            <p class="group">ФТ-203</p>
                            <div class="skills">
                                <div class="skill">HTML</div>
                                <div class="skill">CSS</div>
                            </div>
                        </div>
                    </article>
                    <img src="images/status/status1.svg" alt="Статус" class="status-img"
                                    title="Не ищет команду">
                </section>
            </section>
        </article>

    </main>

    <footer>
        <p>&copy; Год - Имя Фамилия</p>
    </footer>

</body>

</html>